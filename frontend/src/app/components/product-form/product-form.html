<div class="product-form-container">
  <h2>{{ isEditMode ? 'Editar Producto' : 'Crear Nuevo Producto' }}</h2>
  <form [formGroup]="productForm" (ngSubmit)="onSubmit()" class="product-form">
    <div class="form-group">
      <label for="name">Nombre del Producto *</label>
      <input
        type="text"
        id="name"
        formControlName="name"
        class="form-control"
        [class.invalid]="name?.invalid && name?.touched"
        placeholder="Ej: Laptop HP Pavilion"
      />
      @if (name?.invalid && name?.touched) {
      <span class="error-message">
        @if (name?.errors?.['required']) { El nombre del producto es obligatorio }
      </span>
      }
    </div>

    <div class="form-group">
      <label for="price">Precio *</label>
      <input
        type="number"
        id="price"
        formControlName="price"
        class="form-control"
        [class.invalid]="price?.invalid && price?.touched"
        placeholder="Ej: 899.99"
        step="0.01"
        min="0.01"
      />
      @if (price?.invalid && price?.touched) {
      <span class="error-message">
        @if (price?.errors?.['required']) { El precio es obligatorio } @if (price?.errors?.['min'])
        { El precio debe ser mayor a 0 }
      </span>
      }
    </div>

    <div class="form-group">
      <label for="imageUrl">URL de la Imagen *</label>
      <input
        type="url"
        id="imageUrl"
        formControlName="imageUrl"
        class="form-control"
        [class.invalid]="imageUrl?.invalid && imageUrl?.touched"
        placeholder="https://ejemplo.com/imagen.jpg"
      />
      @if (imageUrl?.invalid && imageUrl?.touched) {
      <span class="error-message">
        @if (imageUrl?.errors?.['required']) { La URL de la imagen es obligatoria }
      </span>
      }
    </div>

    <div class="form-actions">
      <button type="submit" class="submit-button" [disabled]="productForm.invalid">
        {{ isEditMode ? 'Actualizar Producto' : 'Crear Producto' }}
      </button>
      <a (click)="navigateToList()" class="cancel-button">Cancelar</a>
    </div>
  </form>
</div>
